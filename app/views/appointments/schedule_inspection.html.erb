<div>
	<div class="datepicker"></div>
	<div class="full-calendar"></div>
</div>
<div class="modal" tabindex="-1" role="dialog" data-keyboard="false">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
	    <div class="modal-header">
	      <h4 class="modal-title" id="exampleModalLabel">Inspector's Calendar</h4>
	    </div>
	    <div class="modal-body">
	    	<%= render 'schedule_inspection' %>
	    </div>
	  </div>
	  </div>
</div>
<script>
  $(document).ready(function(){
  	$('input.datepicker').datepicker();
  	$('.datepicker').on('changeDate', function (dateText) {
		  $('.full-calendar').fullCalendar('gotoDate',new Date(Date.parse(dateText.date)));
		  var defaultView = $('.full-calendar').fullCalendar('getView').name;
      $('.full-calendar').fullCalendar("changeView", defaultView);
		});
  })
		
	$('.full-calendar').fullCalendar({
	  header: {
				left: 'prev,next today',
				center: 'title',
				right: 'month,agendaWeek,agendaDay'
			},
			defaultView: 'month',
			editable: true,
			weekends: false,
			selectable: true,
			selectHelper: true,
	  select: function(start, end) {
    	$('.modal').modal('show');
    	// $(".schedule_inspection").click(function(){
    	// 	var data = $(".edit_appointment").serialize();
     //    $.ajax({
     //      type: "PUT",
     //      url: "/appointments/<%= @appointment.id %>",
     //      data: data,
     //      dataType: 'JSON'
     //    });
     //  })  
    }
	});
</script>